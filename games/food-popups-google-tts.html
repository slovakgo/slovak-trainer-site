<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>–ü—Ä–æ–¥—É–∫—Ç—ã (SK) ‚Äî —Ñ–æ—Ç–æ + –æ–∑–≤—É—á–∫–∞</title>
<style>
  :root{
    --brand:#00bfa5;      /* –º—è—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –∫–∞–∫ –Ω–∞ —Å–∞–π—Ç–µ */
    --muted:#607d8b33;    /* –º—è–≥–∫–∏–µ —Å–µ—Ä—ã–µ –ª–∏–Ω–∏–∏ */
    --ink:#1f2937;        /* —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç */
    --good:#11c26d;       /* –∑–µ–ª—ë–Ω—ã–π –¥–ª—è –≤–µ—Ä–Ω–æ–≥–æ */
    --bad:#ef4444;        /* –∫—Ä–∞—Å–Ω—ã–π –¥–ª—è –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ */
  }
  html,body{margin:0;background:transparent;color:var(--ink);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;}
  .wrap{max-width:1100px;margin:24px auto 56px;padding:0 20px}
  header{display:flex;gap:12px;align-items:center;justify-content:space-between;margin:12px 0 10px;flex-wrap:wrap}
  h1{font-size:20px;margin:0}
  .pill{border:1px solid #e6eef2;background:#fff;border-radius:999px;padding:8px 12px;font-weight:600}
  .pill .dot{display:inline-block;width:10px;height:10px;border-radius:50%;background:var(--brand);margin-right:8px;vertical-align:-1px}
  .lang{display:flex;gap:8px}
  .lang button{border:1px solid var(--muted);background:#fff;border-radius:999px;padding:8px 12px;cursor:pointer;font-weight:600}
  .lang .act{background:var(--brand);color:#fff;border-color:transparent}

  .prompt{margin:16px 0 8px;font-size:18px;font-weight:700}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
  .card{background:#fff;border-radius:14px;box-shadow:0 10px 28px rgba(0,0,0,.08);padding:16px;border:1px solid #edf2f6;
        display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;transition:.2s transform,.2s box-shadow}
  .card:hover{transform:translateY(-2px);box-shadow:0 14px 32px rgba(0,0,0,.1)}
  .imgbox{width:120px;height:120px;display:grid;place-items:center}
  .imgbox img{max-width:100%;max-height:100%;object-fit:contain}
  .title{font-weight:700}
  .card.good{outline:3px solid var(--good)}
  .card.wrong{outline:3px solid var(--bad)}
  .toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);
         background:#222;color:#fff;padding:10px 14px;border-radius:10px;opacity:0;pointer-events:none;transition:.25s}
  .toast.show{opacity:1}
  .sr{position:absolute;left:-9999px}
</style>
</head>
<body>
<main class="wrap">
  <header>
    <h1>üéÆ –ü—Ä–æ–¥—É–∫—Ç—ã –Ω–∞ —Å–ª–æ–≤–∞—Ü–∫–æ–º ‚Äî —Ñ–æ—Ç–æ + Google TTS</h1>
    <div class="pill"><span class="dot"></span><span id="score">0 / 0</span></div>
    <div class="lang" aria-label="–í—ã–±–æ—Ä —è–∑—ã–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞">
      <button class="act" data-lang="ru">ru –†—É—Å—Å–∫–∏–π</button>
      <button data-lang="ua">ua –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</button>
      <button data-lang="en">en English</button>
    </div>
  </header>

  <p class="prompt" id="prompt">‚Ä¶</p>
  <div class="grid" id="grid" aria-live="polite"></div>
  <div class="toast" id="toast" role="status"></div>
</main>

<script>
/* === –¥–∞–Ω–Ω—ã–µ (–ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ /games/images) === */
const ITEMS = [
  {sk:'chlieb',  ua:'—Ö–ª—ñ–±',     ru:'—Ö–ª–µ–±',      en:'bread',   img:'images/chlieb.jpg'},
  {sk:'mlieko',  ua:'–º–æ–ª–æ–∫–æ',   ru:'–º–æ–ª–æ–∫–æ',    en:'milk',    img:'images/mlieko.jpg'},
  {sk:'jablko',  ua:'—è–±–ª—É–∫–æ',   ru:'—è–±–ª–æ–∫–æ',    en:'apple',   img:'images/jablko.jpg'},
  {sk:'syr',     ua:'—Å–∏—Ä',      ru:'—Å—ã—Ä',       en:'cheese',  img:'images/syr.jpg'},
  {sk:'vajce',   ua:'—è–π—Ü–µ',     ru:'—è–π—Ü–æ',      en:'egg',     img:'images/vajce.jpg'},
  {sk:'m√§so',    ua:'–º º—è—Å–æ',    ru:'–º—è—Å–æ',      en:'meat',    img:'images/maso.jpg'},
  {sk:'voda',    ua:'–≤–æ–¥–∞',     ru:'–≤–æ–¥–∞',      en:'water',   img:'images/voda.jpg'},
  {sk:'k√°va',    ua:'–∫–∞–≤–∞',     ru:'–∫–æ—Ñ–µ',      en:'coffee',  img:'images/kava.jpg'},
  {sk:'cukor',   ua:'—Ü—É–∫–æ—Ä',    ru:'—Å–∞—Ö–∞—Ä',     en:'sugar',   img:'images/cukor.jpg'},
  {sk:'paradajka',ua:'–ø–æ–º—ñ–¥–æ—Ä', ru:'–ø–æ–º–∏–¥–æ—Ä',   en:'tomato',  img:'images/paradajka.jpg'},
  {sk:'kol√°ƒç',   ua:'–ø–∏—Ä—ñ–≥',    ru:'–ø–∏—Ä–æ–≥',     en:'cake',    img:'images/kolac.jpg'},
  {sk:'ry≈æa',    ua:'—Ä–∏—Å',      ru:'—Ä–∏—Å',       en:'rice',    img:'images/ryza.jpg'},
  {sk:'soƒæ',     ua:'—Å—ñ–ª—å',     ru:'—Å–æ–ª—å',      en:'salt',    img:'images/sol.jpg'},
  {sk:'maslo',   ua:'–º–∞—Å–ª–æ',    ru:'–º–∞—Å–ª–æ',     en:'butter',  img:'images/maslo.jpg'},
  {sk:'ƒçaj',     ua:'—á–∞–π',      ru:'—á–∞–π',       en:'tea',     img:'images/caj.jpg'},
  {sk:'ban√°n',   ua:'–±–∞–Ω–∞–Ω',    ru:'–±–∞–Ω–∞–Ω',     en:'banana',  img:'images/banan.jpg'},
  {sk:'polievka',ua:'—Å—É–ø',      ru:'—Å—É–ø',       en:'soup',    img:'images/polievka.jpg'},
  {sk:'mlieko',  ua:'–º–æ–ª–æ–∫–æ',   ru:'–º–æ–ª–æ–∫–æ',    en:'milk',    img:'images/mlieko.jpg'}, /* –¥—É–±–ª–∏ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å */
  {sk:'vajce',   ua:'—è–π—Ü–µ',     ru:'—è–π—Ü–æ',      en:'egg',     img:'images/vajce.jpg'},
  {sk:'zemiak',  ua:'–∫–∞—Ä—Ç–æ–ø–ª—è', ru:'–∫–∞—Ä—Ç–æ—Ñ–µ–ª—å', en:'potato',  img:'images/zemiak.jpg'},
];

/* === —Ç–µ–∫—Å—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ === */
const UI = {
  ru:{find:'–ù–∞–π–¥–∏—Ç–µ —Å–ª–æ–≤–æ:', help:'–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∞ —Å–ª–æ–≤–∞—Ü–∫–æ–º', meta:'–Ø–∑—ã–∫: –†—É—Å—Å–∫–∏–π'},
  ua:{find:'–ó–Ω–∞–π–¥–∏ —Å–ª–æ–≤–æ:',  help:'–û–±–µ—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —Å–ª–æ–≤–∞—Ü—å–∫–æ—é',      meta:'–ú–æ–≤–∞: –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞'},
  en:{find:'Find the word:', help:'Pick the correct Slovak word',               meta:'Language: English'}
};

/* === —Å–æ—Å—Ç–æ—è–Ω–∏–µ === */
let lang='ru', score=0, total=ITEMS.length, current=null;

/* === —É—Ç–∏–ª–∏—Ç—ã === */
const $ = s=>document.querySelector(s);
const elGrid = $('#grid'), elScore = $('#score'), elPrompt = $('#prompt'), elToast = $('#toast');

function toast(msg){ elToast.textContent = msg; elToast.classList.add('show'); setTimeout(()=>elToast.classList.remove('show'), 900); }

function setLang(code){
  lang = code;
  document.querySelectorAll('.lang button').forEach(b=>{
    b.classList.toggle('act', b.dataset.lang===code);
  });
  newRound();
}

/* === –æ–∑–≤—É—á–∫–∞: —Å–Ω–∞—á–∞–ª–∞ –≥–æ–ª–æ—Å sk-SK, –∏–Ω–∞—á–µ Google TTS === */
function speakSK(text){
  const say = (voice)=>{
    const u = new SpeechSynthesisUtterance(text);
    if (voice) u.voice = voice;
    u.lang = 'sk-SK';
    speechSynthesis.cancel();
    speechSynthesis.speak(u);
  };
  const voices = speechSynthesis.getVoices();
  let sk = voices.find(v=>/sk/i.test(v.lang)||/slovak/i.test(v.name));
  if (sk){ say(sk); return; }

  // fallback
  const url = 'https://translate.googleapis.com/translate_tts?ie=UTF-8&q='
              + encodeURIComponent(text) + '&tl=sk&client=tw-ob';
  const audio = new Audio(url);
  audio.play().catch(()=>{ /* –º–æ–ª—á–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º */ });
}

/* === –Ω–æ–≤–∞—è –ø–∞—Ä—Ç–∏—è === */
function pick(n,arr){
  const a = [...arr], out=[];
  while(out.length<n && a.length){
    out.push(a.splice(Math.floor(Math.random()*a.length),1)[0]);
  }
  return out;
}

function newRound(){
  elGrid.innerHTML = '';
  elScore.textContent = ${score} / ${total};
  const round = pick(4, ITEMS);
  if (!round.length){ elPrompt.textContent = '–ì–æ—Ç–æ–≤–æ!'; return; }
  current = round[Math.floor(Math.random()*round.length)];
  elPrompt.textContent = ${UI[lang].find} ‚Äú${current[lang]}‚Äù;
  round.forEach(opt=>{
    const card = document.createElement('button');
    card.className = 'card';
    card.innerHTML = `
      <span class="sr">${opt.sk}</span>
      <div class="imgbox">${opt.img ? <img alt="${opt[lang]}" src="${opt.img}"> : '‚ùì'}</div>
      <div class="title">${opt.sk}</div>
    `;
    card.onclick = () => {
      if (opt===current){
        card.classList.add('good');
        score++;
        speakSK(current.sk);
        toast(UI[lang].help);
        setTimeout(newRound, 650); // –∞–≤—Ç–æ-–ø–µ—Ä–µ—Ö–æ–¥
      } else {
        card.classList.add('wrong');
        setTimeout(()=>card.classList.remove('wrong'), 350);
      }
      elScore.textContent = ${score} / ${total};
    };
    elGrid.appendChild(card);
  });
}

/* === —Å–æ–±—ã—Ç–∏—è === */
document.querySelectorAll('.lang button').forEach(b=>b.addEventListener('click',()=>setLang(b.dataset.lang)));

window.addEventListener('load', ()=>{
  // –µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –≥—Ä—É–∑–∏—Ç –≥–æ–ª–æ—Å–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –¥–æ–±–µ—Ä—ë–º –∏—Ö
  if (typeof speechSynthesis !== 'undefined' && speechSynthesis.onvoiceschanged!==undefined){
    speechSynthesis.onvoiceschanged = ()=>{};
  }
  setLang('ru');
});
</script>
</body>
</html>
