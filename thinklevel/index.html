<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ThinkLevel ‚Äî –¢–µ—Å—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –º–æ–∑–≥–∞</title>
  <link rel="stylesheet" href="../style.css" />
  <style>
    body {
      font-family: "Inter", sans-serif;
      background: #fdfdfb;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    .container {
      max-width: 500px;
      margin: 50px auto;
      background: #fff;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    }
    h1 {
      font-size: 26px;
      margin-bottom: 10px;
    }
    .hidden { display: none; }
    button {
      background-color: #2ec4b6;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.2s ease;
    }
    button:hover { background-color: #25a99c; }
  </style>
</head>
<body>

  <div class="container" id="email-step">
    <h1>üß† ThinkLevel</h1>
    <p>–ß—Ç–æ–±—ã –ø—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à—É —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É:</p>
<form id="emailForm" action="https://formspree.io/f/mzzypjko" method="POST">
  <input type="email" name="email" placeholder="–í–∞—à e-mail" required
         style="padding:10px;width:100%;border-radius:6px;border:1px solid #ccc;margin-bottom:10px;">
  <button type="submit" style="background:#00b894;color:white;padding:10px 20px;border:none;border-radius:6px;cursor:pointer;width:100%;">
    –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
  </button>
</form>

  </div>

  <div class="container hidden" id="test-step">
    <h1>–¢–µ—Å—Ç ThinkLevel</h1>
    <p id="question"></p>
    <div id="answers"></div>
  </div>

  <div class="container hidden" id="result-step">
    <h1>–†–µ–∑—É–ª—å—Ç–∞—Ç</h1>
    <p id="result-text"></p>
    <p>‚ú® –ë–æ–ª–µ–µ 1 000 —á–µ–ª–æ–≤–µ–∫ —É–∂–µ –ø—Ä–æ—à–ª–∏ —ç—Ç–æ—Ç —Ç–µ—Å—Ç!</p>
  </div>
<script>
  const emailStep = document.getElementById("email-step");
  const testStep  = document.getElementById("test-step");
  const resultStep= document.getElementById("result-step");
  const form      = document.getElementById("emailForm");

  const questions = [
    {q: "–ö–∞–∫–æ–µ —á–∏—Å–ª–æ –ª–∏—à–Ω–µ–µ: 2, 4, 8, 16, 24, 32?", a: ["8","16","24","32"], correct: 2},
    {q: "–ß—Ç–æ –ª–∏—à–Ω–µ–µ: –∫–Ω–∏–≥–∞, —Ç–µ—Ç—Ä–∞–¥—å, –∫–∞—Ä–∞–Ω–¥–∞—à, —Ä—É—á–∫–∞?", a: ["–ö–Ω–∏–≥–∞","–¢–µ—Ç—Ä–∞–¥—å","–ö–∞—Ä–∞–Ω–¥–∞—à","–†—É—á–∫–∞"], correct: 2},
    {q: "–°–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –≤ 3 –º–∏–Ω—É—Ç–∞—Ö?", a: ["60","120","180","240"], correct: 2},
    {q: "–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç: –∫–æ—Ç, —Å–æ–±–∞–∫–∞, –≤–æ—Ä–æ–±–µ–π, —Ç–∏–≥—Ä?", a: ["–ö–æ—Ç","–°–æ–±–∞–∫–∞","–í–æ—Ä–æ–±–µ–π","–¢–∏–≥—Ä"], correct: 2},
    {q: "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è, –µ—Å–ª–∏ –∏–∑ 10 –≤—ã—á–µ—Å—Ç—å 4, –∞ –∑–∞—Ç–µ–º —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 2?", a: ["8","10","12","14"], correct: 2}
  ];

  let current = 0, score = 0;

 form.addEventListener("submit", async (e) => {
  e.preventDefault();

  const formData = new FormData(form);

  try {
    await fetch(form.action, {
      method: "POST",
      headers: { "Accept": "application/json" },
      body: formData
    });
  } catch (err) {
    console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ email:", err);
  }

  // –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ ‚Äî —Å—Ä–∞–∑—É –Ω–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç
  emailStep.classList.add("hidden");
  startTest();
});
    e.preventDefault(); // –Ω–µ —É—Ö–æ–¥–∏–º –Ω–∞ Formspree
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º e-mail –Ω–∞ Formspree –≤ —Ñ–æ–Ω–µ
    try {
      await fetch(form.action, {
        method: "POST",
        headers: { "Accept": "application/json" },
        body: new FormData(form)
      });
    } catch (err) {
      console.log("Formspree error:", err);
    }
    // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç –Ω–∞ —ç—Ç–æ–π –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    emailStep.classList.add("hidden");
    startTest();
  });

  function startTest(){ testStep.classList.remove("hidden"); showQuestion(); }
  function showQuestion(){
    const q = questions[current];
    document.getElementById("question").innerText = q.q;
    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";
    q.a.forEach((ans,i)=>{
      const btn=document.createElement("button");
      btn.innerText=ans;
      btn.style.display="block";
      btn.style.margin="10px auto";
      btn.onclick=()=>checkAnswer(i);
      answersDiv.appendChild(btn);
    });
  }
  function checkAnswer(i){ if(i===questions[current].correct) score++; current++; (current<questions.length)?showQuestion():finishTest(); }
  function finishTest(){
    testStep.classList.add("hidden"); resultStep.classList.remove("hidden");
    const percent = Math.round((score/questions.length)*100);
    document.getElementById("result-text").innerText = –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${percent}% —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –º–æ–∑–≥–∞ üß©;
  }
</script>
  
</body>
</html>
