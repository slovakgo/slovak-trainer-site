<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ThinkLevel ‚Äî —Ç–µ—Å—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –º–æ–∑–≥–∞</title>
<link rel="icon" href="/favicon-32.png">
<style>
  :root{
    --bg:#fffef8;
    --card:#ffffff;
    --text:#222;
    --muted:#6b7280;
    --accent:#12b886; /* —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π –∑–µ–ª—ë–Ω—ã–π */
    --accent-dark:#0fa372;
    --gray:#e5e7eb;
  }
  *{box-sizing:border-box}
  body{
    margin:0;background:var(--bg);color:var(--text);
    font:16px/1.45 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Arial,sans-serif;
  }
  .wrap{max-width:840px;margin:0 auto;padding:28px 16px 60px}
  .card{
    background:var(--card);border-radius:16px;
    box-shadow:0 10px 30px rgba(0,0,0,.05);
    padding:22px 18px;
  }
  h1{font-size:28px;margin:10px 0 14px;display:flex;gap:10px;align-items:center}
  h1 .emoji{font-size:26px}
  p.lead{font-size:18px;color:var(--muted);margin-top:0}
  input[type="email"]{
    width:100%;padding:12px 14px;border-radius:10px;border:1px solid var(--gray);
    outline:none;font-size:16px;margin:10px 0 14px
  }
  .btn{
    display:inline-block;border:none;border-radius:10px;padding:12px 18px;
    background:var(--accent);color:#fff;font-weight:700;cursor:pointer;
    transition:.15s transform ease,.15s background ease;
  }
  .btn:active{transform:translateY(1px)}
  .btn:disabled{opacity:.6;cursor:not-allowed}
  .btn--ghost{background:#9aa0a6}
  .btn--wide{width:100%}

  .progress{height:10px;background:#f1f5f9;border-radius:999px;overflow:hidden;margin:6px 0 14px}
  .bar{height:100%;width:0;background:var(--accent);transition:width .25s ease}

  .q-card{padding:8px 6px}
  .q-title{font-size:20px;font-weight:700;margin:8px 0 14px}
  .answers{display:grid;gap:10px}
  .answer{
    padding:12px;border:1px solid var(--gray);border-radius:10px;background:#fff;text-align:left;
    cursor:pointer;font-weight:600
  }
  .answer:hover{border-color:#cbd5e1}
  .answer.correct{border-color:#22c55e;background:#ecfdf5}
  .answer.wrong{border-color:#ef4444;background:#fef2f2}

  .comment{margin-top:16px;border:1px dashed #d1d5db;border-radius:12px;padding:12px;background:#fcfdfd}
  .comment label{display:block;font-weight:700;margin-bottom:6px}
  .comment textarea{width:100%;min-height:64px;border:1px solid var(--gray);border-radius:10px;padding:10px;resize:vertical}

  .result h2{margin:6px 0 8px;font-size:24px}
  .score{font-size:40px;font-weight:800}
  .tag{display:inline-block;background:#eef2ff;color:#4338ca;border-radius:999px;padding:6px 10px;font-weight:700}
  .muted{color:var(--muted)}
  .hidden{display:none}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="email-step">
      <h1><span class="emoji">üß†</span> ThinkLevel</h1>
      <p class="lead">–í–≤–µ–¥–∏—Ç–µ e‚Äëmail ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–¥—ë—Ç –Ω–∞ –ø–æ—á—Ç—É, –∞ —Ç–µ—Å—Ç –Ω–∞—á–Ω—ë—Ç—Å—è —Å—Ä–∞–∑—É.</p>
      <form id="emailForm" action="https://formspree.io/f/mzzypjko" method="POST">
        <input type="email" name="email" placeholder="–í–∞—à e‚Äëmail" required />
        <button class="btn btn--wide" type="submit">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
      </form>
    </div>

    <div class="card hidden" id="test-step">
      <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>
      <div class="muted" id="counter">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 25</div>

      <div class="q-card">
        <div class="q-title" id="question">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –≤–æ–ø—Ä–æ—Å‚Ä¶</div>
        <div class="answers" id="answers"></div>
      </div>

      <div class="comment hidden" id="comment-block">
        <label for="comment">–ö–æ—Ä–æ—Ç–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
        <textarea id="comment" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ, —á—Ç–æ –ø–æ–∫–∞–∑–∞–ª–æ—Å—å –ª—ë–≥–∫–∏–º –∏–ª–∏ —Å–ª–æ–∂–Ω—ã–º‚Ä¶"></textarea>
      </div>
    </div>

    <div class="card hidden result" id="result-step">
      <h2>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>
      <div class="score" id="score">0%</div>
      <div class="tag" id="tier">‚Äî</div>
      <p class="lead" id="summary">–ò–¥—ë—Ç –ø–æ–¥—Å—á—ë—Ç‚Ä¶</p>
      <hr style="border:none;height:1px;background:#eee;margin:18px 0">
      <form id="sendResult" action="https://formspree.io/f/mzzypjko" method="POST">
        <input type="hidden" name="result_percent" id="res_percent">
        <input type="hidden" name="result_tier" id="res_tier">
        <input type="hidden" name="result_text" id="res_text">
        <button type="submit" class="btn btn--wide">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ e‚Äëmail</button>
      </form>
      <p class="muted" style="margin-top:10px">–ë–æ–ª–µ–µ 1 000 —á–µ–ª–æ–≤–µ–∫ —É–∂–µ –ø—Ä–æ—à–ª–∏ —ç—Ç–æ—Ç —Ç–µ—Å—Ç.</p>
      <a class="btn btn--ghost" href="/">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç</a>
    </div>
  </div>

<script>
  const emailStep  = document.getElementById('email-step');
  const testStep   = document.getElementById('test-step');
  const resultStep = document.getElementById('result-step');
  const form       = document.getElementById('emailForm');

  const qTitle   = document.getElementById('question');
  const answers  = document.getElementById('answers');
  const bar      = document.getElementById('bar');
  const counter  = document.getElementById('counter');
  const commentBlock = document.getElementById('comment-block');

  const questions = [
    {q:"–ö–∞–∫–æ–µ —á–∏—Å–ª–æ –ª–∏—à–Ω–µ–µ: 2, 4, 8, 16, 24, 32?", a:["8","16","24","32"], c:2},
    {q:"–ß—Ç–æ –ª–∏—à–Ω–µ–µ: –∫–Ω–∏–≥–∞, —Ç–µ—Ç—Ä–∞–¥—å, –∫–∞—Ä–∞–Ω–¥–∞—à, —Ä—É—á–∫–∞?", a:["–ö–Ω–∏–≥–∞","–¢–µ—Ç—Ä–∞–¥—å","–ö–∞—Ä–∞–Ω–¥–∞—à","–†—É—á–∫–∞"], c:2},
    {q:"–°–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –≤ 4 –º–∏–Ω—É—Ç–∞—Ö?", a:["120","180","240","300"], c:2},
    {q:"–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç: –∫–æ—Ç, —Å–æ–±–∞–∫–∞, –≤–æ—Ä–æ–±–µ–π, —Ç–∏–≥—Ä?", a:["–ö–æ—Ç","–°–æ–±–∞–∫–∞","–í–æ—Ä–æ–±–µ–π","–¢–∏–≥—Ä"], c:2},
    {q:"–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è: (12 ‚àí 5) √ó 3 = ?", a:["18","19","21","27"], c:2},
    {q:"–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 1, 1, 2, 3, 5, 8, ?", a:["10","11","12","13"], c:3},
    {q:"–ê–Ω—Ç–æ–Ω–∏–º –∫ —Å–ª–æ–≤—É ¬´–º–µ–¥–ª–µ–Ω–Ω—ã–π¬ª", a:["–¢–∏—Ö–∏–π","–ë—ã—Å—Ç—Ä—ã–π","–¢–æ–ª—Å—Ç—ã–π","–ö—Ä–µ–ø–∫–∏–π"], c:1},
    {q:"–ù–∞–π–¥–∏—Ç–µ –ª–∏—à–Ω–µ–µ: –∫–≤–∞–¥—Ä–∞—Ç, –∫—Ä—É–≥, —Ä–æ–º–±, —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", a:["–ö–≤–∞–¥—Ä–∞—Ç","–ö—Ä—É–≥","–†–æ–º–±","–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫"], c:1},
    {q:"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ —Ä—è–¥: –ü–ù, –í–¢, –°–†, ?", a:["–ß–¢","–ü–¢","–°–ë","–í–°"], c:0},
    {q:"–ï—Å–ª–∏ –≤—Å–µ A ‚Äî B, –∏ –≤—Å–µ B ‚Äî C, —Ç–æ –≤—Å–µ A ‚Äî ?", a:["C","B","A","–Ω–∏ –æ–¥–Ω–æ"], c:0},
    {q:"–°–∫–æ–ª—å–∫–æ —É–≥–ª–æ–≤ —É —à–µ—Å—Ç–∏—É–≥–æ–ª—å–Ω–∏–∫–∞?", a:["5","6","7","8"], c:1},
    {q:"–í—ã–±–µ—Ä–∏—Ç–µ –∞–Ω–∞–≥—Ä–∞–º–º—É —Å–ª–æ–≤–∞ ¬´–ö–†–û–ù–ê¬ª", a:["–ö–û–†–ê","–ö–û–†–ñ","–ö–†–û–ù–ê","–ù–û–†–ö–ê"], c:3},
    {q:"–°—É–º–º–∞: 7 + 9 √ó 2 = ?", a:["32","25","23","20"], c:2},
    {q:"–ß–∞—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 15:00. –ß–µ—Ä–µ–∑ 150 –º–∏–Ω—É—Ç –±—É–¥–µ—Ç:", a:["16:30","17:30","18:00","18:30"], c:1},
    {q:"–õ–∏—à–Ω–µ–µ: —Å–µ–≤–µ—Ä, —é–≥, –≤–æ—Å—Ç–æ–∫, –≤–≤–µ—Ä—Ö", a:["–°–µ–≤–µ—Ä","–Æ–≥","–í–æ—Å—Ç–æ–∫","–í–≤–µ—Ä—Ö"], c:3},
    {q:"–ß—Ç–æ –ª–∏—à–Ω–µ–µ: –ª–∏–º–æ–Ω, –∞–ø–µ–ª—å—Å–∏–Ω, –º–∞–Ω–¥–∞—Ä–∏–Ω, –≥—Ä—É—à–∞", a:["–õ–∏–º–æ–Ω","–ê–ø–µ–ª—å—Å–∏–Ω","–ú–∞–Ω–¥–∞—Ä–∏–Ω","–ì—Ä—É—à–∞"], c:3},
    {q:"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ: 5, 10, 20, 40, ?", a:["45","60","70","80"], c:3},
    {q:"–°–∏–Ω–æ–Ω–∏–º –∫ —Å–ª–æ–≤—É ¬´–±—ã—Å—Ç—Ä—ã–π¬ª", a:["–®—É—Å—Ç—Ä—ã–π","–¢—è–∂—ë–ª—ã–π","–ú—è–≥–∫–∏–π","–ì–ª—É—Ö–æ–π"], c:0},
    {q:"–°–∫–æ–ª—å–∫–æ —á—ë—Ç–Ω—ã—Ö —á–∏—Å–µ–ª —Å—Ä–µ–¥–∏: 3, 6, 9, 12, 15, 18?", a:["2","3","4","5"], c:1},
    {q:"–°–∫–æ–ª—å–∫–æ –≥—Ä–∞–¥—É—Å–æ–≤ –≤ –ø—Ä—è–º–æ–º —É–≥–ª–µ?", a:["45","90","120","180"], c:1},
    {q:"–í—ã–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–µ–µ: —Å—Ç–µ–∫–ª–æ, –¥–µ—Ä–µ–≤–æ, –ø–ª–∞—Å—Ç–∏–∫, —Å–æ–ª—å", a:["–°—Ç–µ–∫–ª–æ","–î–µ—Ä–µ–≤–æ","–ü–ª–∞—Å—Ç–∏–∫","–°–æ–ª—å"], c:3},
    {q:"(6 + 8) √∑ 2 = ?", a:["6","7","8","9"], c:2},
    {q:"–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –æ–±—Ä–∞–∑—É–µ—Ç –ø–∞—Ä—É —Å ¬´–≤–æ–ø—Ä–æ—Å¬ª:", a:["–û—Ç–≤–µ—Ç","–î–æ–≤–µ—Ä–∏–µ","–ù–∞–¥–µ–∂–¥–∞","–†–∞–¥–æ—Å—Ç—å"], c:0},
    {q:"–ö–∞–∫–æ–µ —á–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ —Å—Ç–æ—è—Ç—å –≤–º–µ—Å—Ç–æ ?: 3, 6, 12, 24, ?", a:["36","42","44","48"], c:3},
    {q:"–õ–∏—à–Ω–µ–µ: —è–Ω–≤–∞—Ä—å, —Ñ–µ–≤—Ä–∞–ª—å, –≤—Ä–µ–º—è, –º–∞—Ä—Ç", a:["–Ø–Ω–≤–∞—Ä—å","–§–µ–≤—Ä–∞–ª—å","–í—Ä–µ–º—è","–ú–∞—Ä—Ç"], c:2},
  ];

  let i = 0, score = 0;

  form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    try{
      await fetch(form.action, { method:'POST', headers:{'Accept':'application/json'}, body:new FormData(form) });
    }catch(err){ console.log('Formspree error:', err); }
    emailStep.classList.add('hidden');
    startTest();
  });

  function startTest(){
    testStep.classList.remove('hidden');
    i = 0; score = 0;
    showQuestion();
    window.scrollTo({top:0,behavior:'smooth'});
  }

  function showQuestion(){
    const total = questions.length;
    counter.textContent = `–í–æ–ø—Ä–æ—Å ${i+1} –∏–∑ ${total}`;
    bar.style.width = `${Math.round((i)/total*100)}%`;

    if ((i>0) && (i % 5 === 0)) commentBlock.classList.remove('hidden');
    else commentBlock.classList.add('hidden');

    const q = questions[i];
    qTitle.textContent = q.q;
    answers.innerHTML = '';

    q.a.forEach((text,idx)=>{
      const btn = document.createElement('button');
      btn.className = 'answer';
      btn.type = 'button';
      btn.textContent = text;
      btn.onclick = ()=> pick(idx);
      answers.appendChild(btn);
    });
  }

  function pick(idx){
    const q = questions[i];
    const nodes = Array.from(document.querySelectorAll('.answer'));
    nodes.forEach((n,k)=>{
      n.onclick = null;
      if (k === q.c) n.classList.add('correct');
      if (k === idx && idx !== q.c) n.classList.add('wrong');
    });
    if (idx === q.c) score++;

    setTimeout(()=>{
      i++;
      if (i < questions.length) showQuestion();
      else finish();
    }, 450);
  }

  function finish(){
    bar.style.width = '100%';
    testStep.classList.add('hidden');
    resultStep.classList.remove('hidden');

    const percent = Math.round(score / questions.length * 100);
    const scoreEl = document.getElementById('score');
    const tierEl  = document.getElementById('tier');
    const sumEl   = document.getElementById('summary');

    scoreEl.textContent = percent + '%';

    let tier, text;
    if (percent >= 90){ tier = '‚ö° –£—Ä–æ–≤–µ–Ω—å: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π'; text = '–û—Ç–ª–∏—á–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏–π. –í—ã –±—ã—Å—Ç—Ä–æ —Å—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç–µ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ –∏ —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ.'; }
    else if (percent >= 75){ tier = '‚ú® –£—Ä–æ–≤–µ–Ω—å: –°–∏–ª—å–Ω—ã–π'; text = '–•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏. –ü–∞—Ä–∞ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á —Å–±–∏–ª–∞ —Ç–µ–º–ø ‚Äî –Ω–æ –æ–±—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å —É–≤–µ—Ä–µ–Ω–Ω—ã–π.'; }
    else if (percent >= 60){ tier = 'üå± –£—Ä–æ–≤–µ–Ω—å: –ë–∞–∑–æ–≤—ã–π+'; text = '–ù–µ–ø–ª–æ—Ö–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∏ —Ä–∞–±–æ—Ç—É —Å —à–∞–±–ª–æ–Ω–∞–º–∏ ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–∏–¥—ë—Ç –±—ã—Å—Ç—Ä–æ.'; }
    else { tier = 'üîß –£—Ä–æ–≤–µ–Ω—å: –°—Ç–∞—Ä—Ç–æ–≤—ã–π'; text = '–û—Ç–ª–∏—á–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞. 5‚Äì10 –º–∏–Ω—É—Ç –≤ –¥–µ–Ω—å –Ω–∞ –ø–∞–º—è—Ç—å, –≤–Ω–∏–º–∞–Ω–∏–µ –∏ –ª–æ–≥–∏–∫—É ‚Äî –∏ –∫—Ä–∏–≤–∞—è –ø–æ–π–¥—ë—Ç –≤–≤–µ—Ä—Ö.'; }

    tierEl.textContent = tier;
    sumEl.textContent  = text;

    document.getElementById('res_percent').value = percent + '%';
    document.getElementById('res_tier').value = tier;
    document.getElementById('res_text').value = text;
  }
</script>
</body>
</html>
